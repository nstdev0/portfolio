---
import Layout from "../layouts/Layout.astro";
import Navigation from "../components/Navigation.astro";
import Sidebar from "../components/Sidebar.astro";
import Hero from "../components/Hero.astro";
import TechStack from "../components/TechStack.astro";
import About from "../components/About.astro";
import Projects from "../components/Projects.astro";
import Contact from "../components/Contact.astro";
import Footer from "../components/Footer.astro";
import { getLangFromUrl } from "../i18n/utils";

export const prerender = true;

export async function getStaticPaths() {
    return [{ params: { lang: "es" } }, { params: { lang: undefined } }];
}

const lang = getLangFromUrl(Astro.url);
---

<Layout title="Joseph Nestares | Full Stack Developer" lang={lang}>
    <Navigation />
    <Sidebar />

    <main>
        <Hero />
        <TechStack />
        <About />
        <Projects />
        <!-- <Experience /> -->
        <!-- <Education /> -->
        <Contact />
    </main>
    <Footer />
</Layout>
